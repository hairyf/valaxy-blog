import{_ as d}from"./ValaxyMain.vue_vue_type_script_setup_true_lang-_PHymMwZ.js";import{b as g,e as y,w as t,f as F,a as c,p as r,g as s,i as D,h as i,r as e}from"./app-C5E7XBok.js";const E={__name:"index",setup(A,{expose:o}){const n=JSON.parse('{"title":"Jest 自动化部署测试配置","description":"","frontmatter":{"title":"Jest 自动化部署测试配置","date":"2021-06-12 14:00:00","categories":["Notes","Client","Test"],"tags":["Test"]},"headers":[{"level":2,"title":"Jest 基本特点","slug":"jest-基本特点","link":"#jest-基本特点","children":[{"level":3,"title":"集成测试区别","slug":"集成测试区别","link":"#集成测试区别","children":[]}]},{"level":2,"title":"Jest 基本使用","slug":"jest-基本使用","link":"#jest-基本使用","children":[{"level":3,"title":"配置测试（jest.config）","slug":"配置测试-jest-config","link":"#配置测试-jest-config","children":[]}]},{"level":2,"title":"支持 ES6 Modules","slug":"支持-es6-modules","link":"#支持-es6-modules","children":[]}],"relativePath":"pages/posts/notes/client/test/jest/index.md","path":"/home/runner/work/valaxy-blog/valaxy-blog/pages/posts/notes/client/test/jest/index.md","lastUpdated":1725453888000}'),k=c(),h=n.frontmatter||{};return k.meta.frontmatter=Object.assign(k.meta.frontmatter||{},n.frontmatter||{}),r("pageData",n),r("valaxy:frontmatter",h),globalThis.$frontmatter=h,o({frontmatter:{title:"Jest 自动化部署测试配置",date:"2021-06-12 14:00:00",categories:["Notes","Client","Test"],tags:["Test"]}}),(a,l)=>{const p=d;return g(),y(p,{frontmatter:F(h)},{"main-content-md":t(()=>[l[0]||(l[0]=s("p",null,"随着前端的发展，项目变的越来越复杂，这时候就引入前端工程化的概念，有人认为前端工程化就是高质量的代码设计，高质量的代码实践，就是前端工程化。其实工程化还有一个很重要的环节，就是自动化代码测试。",-1)),l[1]||(l[1]=s("p",null,"随着前端的发展，前端设计的领域已经越来越多，也越来越复杂。这就对我们前端工程化能力，提出了更高的要求。 好的前端工程化一般包括三个大的方面：",-1)),l[2]||(l[2]=s("ul",null,[s("li",null,"前端自动化测试（前提条件）"),s("li",null,"高质量的代码设计"),s("li",null,"高质量的代码实现")],-1)),l[3]||(l[3]=s("p",null,"虽然一些公司，到现在还是没有前端自动化测试，甚至 BOSS 会说前端自动化测试会拉低工作效率，认为用处不大。这是完全错误的想法，你可以看到 Github 上任何大型的前端项目都有自动化测试代码。",-1)),l[4]||(l[4]=s("ul",null,[s("li",null,"Ant Design : React UI 组件库"),s("li",null,"Vue.js : 国内最流行的构建用户界面的渐进式 JavaScript 框架。"),s("li",null,"React.js : 世界最流行的 JavaScript MVC 框架。")],-1)),D(" more "),l[5]||(l[5]=s("h2",{id:"jest-基本特点",tabindex:"-1"},[i("Jest 基本特点 "),s("a",{class:"header-anchor",href:"#jest-基本特点","aria-label":'Permalink to "Jest 基本特点"'},"​")],-1)),l[6]||(l[6]=s("ul",null,[s("li",null,"基础很好：就是性能好、功能多、简单易用。"),s("li",null,"速度快： 单独模块测试功能，比如说有两个模块 A 和 B，以前都测试过了，这时候你只改动 A 模块，在次测试，模块 B 不会再跑一次，而是直接测试 A 模块。"),s("li",null,"API 简单 ：非常简单，数量也少。"),s("li",null,"隔离性好：Jest 里会有很多的测试文件等待我们使用，Jest 的执行环境都是隔离，这样就避免不同的测试文件执行的时候互相影响而造成出错。"),s("li",null,"IDE整合：Jest 直接可以和很多编辑器（VSCode）进行融合，让测试变的更加简单。"),s("li",null,"多项目并行：比如我们写了 Node.js 的后台项目，用 React 写了一个前台项目，Jest 是支持他们并行运行，让我们的效率更加提高了。"),s("li",null,"快出覆盖率：（测试代码覆盖率） 对于一个项目的测试都要出覆盖率的，Jest就可以快速出这样的覆盖率统计结果。")],-1)),l[7]||(l[7]=s("h3",{id:"集成测试区别",tabindex:"-1"},[i("集成测试区别 "),s("a",{class:"header-anchor",href:"#集成测试区别","aria-label":'Permalink to "集成测试区别"'},"​")],-1)),l[8]||(l[8]=s("ul",null,[s("li",null,[s("strong",null,"单元测试"),i("：英文是(unit testing) 单,是指对软件中的最小可测试单元进行检查和验证。前端所说的单元测试就是对一个模块进行测试。")]),s("li",null,[s("strong",null,"集成测试"),i("：也叫组装测试或者联合测试。在单元测试的基础上，将所有模块按照涉及要求组装成为子系统或系统，进行集成测试。")])],-1)),l[9]||(l[9]=s("p",null,"随着前端的发展，现在无论我们些React还是写Vue，其实代码已经全部都模块化了，所以使用Jest测试不需要额外加入任何的操作了。",-1)),l[10]||(l[10]=s("h2",{id:"jest-基本使用",tabindex:"-1"},[i("Jest 基本使用 "),s("a",{class:"header-anchor",href:"#jest-基本使用","aria-label":'Permalink to "Jest 基本使用"'},"​")],-1)),l[11]||(l[11]=s("div",{class:"language-sh vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"sh"),s("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"# 安装 JEST")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"npm"),s("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install"),s("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," jest@24.8.0"),s("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," -D")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"# 初始化")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"jest"),s("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --init")])])]),s("button",{class:"collapse"})],-1)),l[12]||(l[12]=s("div",{class:"language-makefile vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"makefile"),s("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"The following questions will help Jest to create a suitable configuration for your project")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"## 以下问题将帮助Jest为您的项目创建合适的配置")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},'? Would you like to use Jest when running "test" script in "package.json"? » (Y/n)')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"## 运行测试脚本是否使用package.json中?")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"#↓↓↓↓↓↓↓↓↓#")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"? Choose the test environment that will be used for testing » - Use arrow-keys. Return to submit.")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"## 选择测试环境")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},">   node")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"    jsdom (browser-like)")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"#↓↓↓↓↓↓↓↓↓#")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"? Do you want Jest to add coverage reports? » (y/N)")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"## 您是否希望Jest添加覆盖率报告(y)")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"#↓↓↓↓↓↓↓↓↓#")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"? Which provider should be used to instrument code for coverage? » - Use arrow-keys. Return to submit.")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"## 使用哪个提供程序检测覆盖率代码")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},">   v8")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"    babel")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"#↓↓↓↓↓↓↓↓↓#")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"? Automatically clear mock calls and instances between every test? » (y/N)")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"## 是否自动清除每个测试之间的模拟调用和实例？(y)")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"## 自动化测试")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"jest --watchAll")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"## 测试覆盖率")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"jest --coverage")])])]),s("button",{class:"collapse"})],-1)),l[13]||(l[13]=s("h3",{id:"配置测试-jest-config",tabindex:"-1"},[i("配置测试（jest.config） "),s("a",{class:"header-anchor",href:"#配置测试-jest-config","aria-label":'Permalink to "配置测试（jest.config）"'},"​")],-1)),l[14]||(l[14]=s("div",{class:"language-js vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"js"),s("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"// For a detailed explanation regarding each configuration property, visit:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"// https://jestjs.io/docs/en/configuration.html")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"module.exports"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," ="),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"  clearMocks"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":"),s("span",{style:{"--shiki-dark":"#FF9CAC","--shiki-light":"#FF5370"}}," true"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},","),s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}}," // 是否清除测试模拟调用和实例")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"  coverageDirectory"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," '"),s("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"coverage"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"'"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},","),s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}}," // 生成覆盖率目录文件名称")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"  testEnvironment"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," '"),s("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"node"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"'"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},","),s("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}}," // 默认值jsdom,")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}")])])]),s("button",{class:"collapse"})],-1)),l[15]||(l[15]=s("h2",{id:"支持-es6-modules",tabindex:"-1"},[i("支持 ES6 Modules "),s("a",{class:"header-anchor",href:"#支持-es6-modules","aria-label":'Permalink to "支持 ES6 Modules"'},"​")],-1)),l[16]||(l[16]=s("ol",null,[s("li",null,"安装 babel")],-1)),l[17]||(l[17]=s("div",{class:"language-sh vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"sh"),s("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"npm"),s("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," i"),s("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," @babel/core@7.4.5"),s("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," @babel/preset-env@7.4.5"),s("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --dev")])])]),s("button",{class:"collapse"})],-1)),l[18]||(l[18]=s("ol",{start:"2"},[s("li",null,[i("配置 "),s("code",null,".babelrc")])],-1)),l[19]||(l[19]=s("div",{class:"language-json vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"json"),s("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'  "'),s("span",{style:{"--shiki-dark":"#C792EA","--shiki-light":"#9C3EDA"}},"presets"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," [")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"    [")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'      "'),s("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"@babel/preset-env"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},","),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'        "'),s("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"targets"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'          "'),s("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}},"node"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},' "'),s("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"current"),s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"      }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"    ]")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"  ]")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}")])])]),s("button",{class:"collapse"})],-1))]),"main-header":t(()=>[e(a.$slots,"main-header")]),"main-header-after":t(()=>[e(a.$slots,"main-header-after")]),"main-nav":t(()=>[e(a.$slots,"main-nav")]),"main-content":t(()=>[e(a.$slots,"main-content")]),"main-content-after":t(()=>[e(a.$slots,"main-content-after")]),"main-nav-before":t(()=>[e(a.$slots,"main-nav-before")]),"main-nav-after":t(()=>[e(a.$slots,"main-nav-after")]),comment:t(()=>[e(a.$slots,"comment")]),footer:t(()=>[e(a.$slots,"footer")]),aside:t(()=>[e(a.$slots,"aside")]),"aside-custom":t(()=>[e(a.$slots,"aside-custom")]),default:t(()=>[e(a.$slots,"default")]),_:3},8,["frontmatter"])}}};export{E as default};
