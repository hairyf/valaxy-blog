import{_ as p}from"./ValaxyMain.vue_vue_type_script_setup_true_lang-_PHymMwZ.js";import{_ as g}from"./HairyImage.vue_vue_type_script_setup_true_lang-BpP4YyLS.js";import{b as y,e as o,w as t,f as A,a as E,p as F,g as i,h as s,i as u,j as B,r as h}from"./app-C5E7XBok.js";import"./index-B8DctFvE.js";const x={__name:"render",setup(f,{expose:r}){const k=JSON.parse('{"title":"页面渲染机制","description":"","frontmatter":{"title":"页面渲染机制","categories":["Notes","Client","Css"],"tags":["Css"],"date":"2023-11-11"},"headers":[{"level":2,"title":"重排(reflow)","slug":"重排-reflow","link":"#重排-reflow","children":[]},{"level":2,"title":"重排范围","slug":"重排范围","link":"#重排范围","children":[{"level":3,"title":"全局范围","slug":"全局范围","link":"#全局范围","children":[]},{"level":3,"title":"局部范围","slug":"局部范围","link":"#局部范围","children":[]}]},{"level":2,"title":"重绘(repaints)","slug":"重绘-repaints","link":"#重绘-repaints","children":[]},{"level":2,"title":"重排优化","slug":"重排优化","link":"#重排优化","children":[{"level":3,"title":"样式集中","slug":"样式集中","link":"#样式集中","children":[]},{"level":3,"title":"分离读写","slug":"分离读写","link":"#分离读写","children":[]},{"level":3,"title":"DOM 隐藏","slug":"dom-隐藏","link":"#dom-隐藏","children":[]},{"level":3,"title":"脱离文档流","slug":"脱离文档流","link":"#脱离文档流","children":[]},{"level":3,"title":"动画优化","slug":"动画优化","link":"#动画优化","children":[]}]},{"level":2,"title":"性能调试","slug":"性能调试","link":"#性能调试","children":[]}],"relativePath":"pages/posts/notes/client/css/render.md","path":"/home/runner/work/valaxy-blog/valaxy-blog/pages/posts/notes/client/css/render.md","lastUpdated":1725453888000}'),e=E(),n=k.frontmatter||{};return e.meta.frontmatter=Object.assign(e.meta.frontmatter||{},k.frontmatter||{}),F("pageData",k),F("valaxy:frontmatter",n),globalThis.$frontmatter=n,r({frontmatter:{title:"页面渲染机制",categories:["Notes","Client","Css"],tags:["Css"],date:"2023-11-11"}}),(a,l)=>{const d=g,D=p;return y(),o(D,{frontmatter:A(n)},{"main-content-md":t(()=>[l[0]||(l[0]=i("p",null,[s("在页面的生命周期中，"),i("strong",null,"网页生成的时候，初始化至少渲染一次。在用户访问的过程中，则会不断的触发重排(reflow)和重绘(repaint)"),s("，不管页面发生了重绘还是重排，都会影响性能，在现代前端开发中，动效和动画效果的性能逐渐引起人们的重视，如何避免付出高额的性能代价，成为了我们前端工程师应该考虑的因素。")],-1)),u(" more "),l[1]||(l[1]=i("ul",null,[i("li",null,"重排：指某些元素重新生成布局，更改排列元素"),i("li",null,"重绘：某些元素的外观被改变（背景、字体颜色）")],-1)),l[2]||(l[2]=i("p",null,"就如上概念，淡淡改变元素的外观，不会引起页面重新布局，但浏览器完成重排之后，则会受到重排的影响导致元素乃至周边的 DOM 重新绘制。",-1)),l[3]||(l[3]=i("blockquote",null,[i("p",null,"重绘不一定导致重排，但重排一定会导致重绘。")],-1)),l[4]||(l[4]=i("h2",{id:"重排-reflow",tabindex:"-1"},[s("重排(reflow) "),i("a",{class:"header-anchor",href:"#重排-reflow","aria-label":'Permalink to "重排(reflow)"'},"​")],-1)),l[5]||(l[5]=i("p",null,"当 DOM 变化影响元素的几何信息(位置和尺寸大小)，浏览器则需要重新计算元素的几何属性，将其安防在界面中的正确位置，这个过程叫做重排。",-1)),l[6]||(l[6]=i("p",null,"重排也叫回流，简单的说就是重新生成布局，重新排列元素。",-1)),l[7]||(l[7]=i("p",null,[i("strong",null,"以下情况会导致重排：")],-1)),l[8]||(l[8]=i("ul",null,[i("li",null,"页面初始渲染，这是开销最大的重排"),i("li",null,"添加/删除可见的 DOM 元素"),i("li",null,"改变元素位置"),i("li",null,"改变元素尺寸（边距、填充、边框、宽度和高度）"),i("li",null,"改变元素字体大小"),i("li",null,"改变浏览器窗口尺寸（如 resize 事件触发）"),i("li",null,[s("激活 CSS 伪类（"),i("code",null,":hover"),s("）")]),i("li",null,[i("strong",null,"设置 style 属性"),s("（通过 "),i("code",null,"style"),s(" 将更改节点属性，则触发 reflow）")]),i("li",null,[s("查询某些属性或某些计算方法（"),i("code",null,"offsetWidth"),s("、"),i("code",null,"offsetHeight"),s("）")])],-1)),l[9]||(l[9]=i("blockquote",null,[i("p",null,[s("当调用 "),i("code",null,"getComputedStyle"),s("、或 IE 中的 "),i("code",null,"currentStyle"),s(" 时，浏览器为了追求即时性与准确性，都会触发重排。")])],-1)),l[10]||(l[10]=i("table",null,[i("thead",null,[i("tr",null,[i("th",null,"常见引起重排属性和方法"),i("th",null,"–"),i("th",null,"–"),i("th",null,"–")])]),i("tbody",null,[i("tr",null,[i("td",null,"width"),i("td",null,"height"),i("td",null,"margin"),i("td",null,"padding")]),i("tr",null,[i("td",null,"display"),i("td",null,"border-width"),i("td",null,"border"),i("td",null,"position")]),i("tr",null,[i("td",null,"overflow"),i("td",null,"font-size"),i("td",null,"vertical-align"),i("td",null,"min-height")]),i("tr",null,[i("td",null,"clientWidth"),i("td",null,"clientHeight"),i("td",null,"clientTop"),i("td",null,"clientLeft")]),i("tr",null,[i("td",null,"offsetWidth"),i("td",null,"offsetHeight"),i("td",null,"offsetTop"),i("td",null,"offsetLeft")]),i("tr",null,[i("td",null,"scrollWidth"),i("td",null,"scrollHeight"),i("td",null,"scrollTop"),i("td",null,"scrollLeft")]),i("tr",null,[i("td",null,"scrollIntoView()"),i("td",null,"scrollTo()"),i("td",null,"getComputedStyle()"),i("td")]),i("tr",null,[i("td",null,"getBoundingClientRect()"),i("td",null,"scrollIntoViewIfNeeded()"),i("td"),i("td")])])],-1)),l[11]||(l[11]=i("h2",{id:"重排范围",tabindex:"-1"},[s("重排范围 "),i("a",{class:"header-anchor",href:"#重排范围","aria-label":'Permalink to "重排范围"'},"​")],-1)),l[12]||(l[12]=i("p",null,"浏览器渲染界面基于流式布局模型，触发重排时会对周围 DOM 重新排序，影响范围分两种：",-1)),l[13]||(l[13]=i("ul",null,[i("li",null,"全局：从根节点 html 开始对整个节点树进行重新布局渲染。"),i("li",null,"局部：对节点树某部分或某个对象进行重新布局渲染。")],-1)),l[14]||(l[14]=i("h3",{id:"全局范围",tabindex:"-1"},[s("全局范围 "),i("a",{class:"header-anchor",href:"#全局范围","aria-label":'Permalink to "全局范围"'},"​")],-1)),l[15]||(l[15]=i("div",{class:"language-html vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"html"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"<"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"body"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"  <"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"div"),i("span",{style:{"--shiki-dark":"#C792EA","--shiki-light":"#9C3EDA"}}," class"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"hello"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"    <"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"h4"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"hello"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"</"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"h4"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"    <"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"p"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"><"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"strong"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"Name:"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"</"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"strong"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"BDing"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"</"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"p"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"    <"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"h5"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"male"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"</"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"h5"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"    <"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"ol"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"      <"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"li"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"coding"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"</"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"li"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"      <"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"li"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"loving"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"</"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"li"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"    </"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"ol"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"  </"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"div"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"</"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"body"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")])])]),i("button",{class:"collapse"})],-1)),l[16]||(l[16]=i("p",null,[s("当 "),i("code",null,"p"),s(" 节点发生 reflow 时，"),i("code",null,"h4"),s(" 和 "),i("code",null,"body"),s(" 也会重新渲染，甚至 "),i("code",null,"h5"),s(" 和 "),i("code",null,"ol"),s(" 都会收到影响。")],-1)),l[17]||(l[17]=i("h3",{id:"局部范围",tabindex:"-1"},[s("局部范围 "),i("a",{class:"header-anchor",href:"#局部范围","aria-label":'Permalink to "局部范围"'},"​")],-1)),l[18]||(l[18]=i("p",null,"当 DOM 的宽高等几何信息被限死，在 DOM 内中触发的重排，就只会重新渲染该 DOM 内部的元素，而不会影响到外部。",-1)),l[19]||(l[19]=i("div",{class:"language-html vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"html"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"<"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"style"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"  ol"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#B2CCD6","--shiki-light":"#8796B0"}},"    width"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 100px"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#B2CCD6","--shiki-light":"#8796B0"}},"    height"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 100px"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"  }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"</"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"style"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"<"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"body"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"  <"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"h4"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"hello"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"</"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"h4"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"  <"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"ol"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"    <!-- 当 li 发生重排时，不会影响 ol 外的元素 -->")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"    <"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"li"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"coding"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"</"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"li"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"    <"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"li"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"loving"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"</"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"li"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"  </"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"ol"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"</"),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"body"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")])])]),i("button",{class:"collapse"})],-1)),l[20]||(l[20]=i("h2",{id:"重绘-repaints",tabindex:"-1"},[s("重绘(repaints) "),i("a",{class:"header-anchor",href:"#重绘-repaints","aria-label":'Permalink to "重绘(repaints)"'},"​")],-1)),l[21]||(l[21]=i("p",null,"当一个元素的外观发生改变，但没有改变布局,重新把元素外观绘制出来的过程，叫做重绘。",-1)),l[22]||(l[22]=i("table",null,[i("thead",null,[i("tr",null,[i("th",null,"常见的引起重绘的属性："),i("th",null,"–"),i("th",null,"–"),i("th",null,"–")])]),i("tbody",null,[i("tr",null,[i("td",null,"color"),i("td",null,"border-style"),i("td",null,"visibility"),i("td",null,"background")]),i("tr",null,[i("td",null,"text-decoration"),i("td",null,"background-image"),i("td",null,"background-position"),i("td",null,"background-repeat")]),i("tr",null,[i("td",null,"outline-color"),i("td",null,"outline"),i("td",null,"outline-style"),i("td",null,"border-radius")]),i("tr",null,[i("td",null,"outline-width"),i("td",null,"box-shadow"),i("td",null,"background-size"),i("td")])])],-1)),l[23]||(l[23]=i("h2",{id:"重排优化",tabindex:"-1"},[s("重排优化 "),i("a",{class:"header-anchor",href:"#重排优化","aria-label":'Permalink to "重排优化"'},"​")],-1)),l[24]||(l[24]=i("p",null,"重排的代价是昂贵的，如果重排次数过多，会破坏用户体验，并且让 UI 展示非常迟缓，通过减少重排的负面影响来提高用户体验的最简单方式减少尽可能的减少重排次数、范围。",-1)),l[25]||(l[25]=i("blockquote",null,[i("p",null,"尽可能的修改低层级的 DOM 节点，而不是在全局范围内修改父级元素，不要通过父元素影响子元素，这会导致更大范围的重排。")],-1)),l[26]||(l[26]=i("h3",{id:"样式集中",tabindex:"-1"},[s("样式集中 "),i("a",{class:"header-anchor",href:"#样式集中","aria-label":'Permalink to "样式集中"'},"​")],-1)),l[27]||(l[27]=i("p",null,"不要频繁的操作样式，对于一个静态页面来说，更加明智的做法是更改类名而不是修改样式，对于动态修改的样式来说，相对每次微小修改都直接触及元素。",-1)),l[28]||(l[28]=i("div",{class:"language-js vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"js"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"// bad")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C792EA","--shiki-light":"#9C3EDA"}},"var"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," left "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 10")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C792EA","--shiki-light":"#9C3EDA"}},"var"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," top "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 10")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"el"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"style"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"left "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," `${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"left"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"px"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"`")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"el"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"style"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"top "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," `${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"top"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"px"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"`")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"// 当top和left的值是动态计算而成时...")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"// better")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"el"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"style"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"cssText "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"+="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," `"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"; left: "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"left"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"px; top: "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"top"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"px;"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"`")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"// better")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"el"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"className "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"+="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," '"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," className"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"'")])])]),i("button",{class:"collapse"})],-1)),l[29]||(l[29]=i("h3",{id:"分离读写",tabindex:"-1"},[s("分离读写 "),i("a",{class:"header-anchor",href:"#分离读写","aria-label":'Permalink to "分离读写"'},"​")],-1)),l[30]||(l[30]=i("p",null,"DOM 的多个读写操作，应该放在一起，不要在两个读操作之间，加入应该写操作。",-1)),l[31]||(l[31]=i("div",{class:"language-js vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"js"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"// bad 强制刷新 触发四次重排+重绘")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"div"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"style"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"left "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," `${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"div"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"offsetLeft "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"+"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 1"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"px"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"`")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"div"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"style"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"top "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," `${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"div"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"offsetTop "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"+"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 1"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"px"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"`")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"div"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"style"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"right "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," `${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"div"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"offsetRight "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"+"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 1"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"px"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"`")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"div"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"style"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"bottom "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," `${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"div"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"offsetBottom "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"+"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 1"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"px"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"`")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"// good 缓存布局信息 相当于读写分离 触发一次重排+重绘")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C792EA","--shiki-light":"#9C3EDA"}},"const"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," {"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," offsetLeft"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},","),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," offsetTop"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},","),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," offsetRight"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},","),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," offsetBottom "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," ="),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," div")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"div"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"style"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"left "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," `${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"offsetLeft "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"+"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 1"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"px"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"`")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"div"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"style"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"top "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," `${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"offsetTop "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"+"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 1"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"px"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"`")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"div"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"style"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"right "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," `${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"offsetRight "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"+"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 1"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"px"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"`")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"div"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"style"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"bottom "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," `${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"offsetBottom "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"+"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 1"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"px"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"`")])])]),i("button",{class:"collapse"})],-1)),l[32]||(l[32]=i("p",null,"原操作导致四次重排，读写分离之后实际值触发一次重排，这都得利于浏览器的渲染队列机制。",-1)),l[33]||(l[33]=i("blockquote",null,[i("p",null,"当我们修改元素的几何属性，导致浏览器触发重排或重绘时，它会把该操作放进渲染队列中，等到队列中的操作到了一定的数量或者到了一定的时间间隔时，浏览器就会批量执行执行操作。")],-1)),l[34]||(l[34]=i("h3",{id:"dom-隐藏",tabindex:"-1"},[s("DOM 隐藏 "),i("a",{class:"header-anchor",href:"#dom-隐藏","aria-label":'Permalink to "DOM 隐藏"'},"​")],-1)),l[35]||(l[35]=i("ul",null,[i("li",null,[s("使用 "),i("code",null,"display: node")])],-1)),l[36]||(l[36]=i("p",null,[s("一旦我们给元素设置该属性（仅一次重排重绘）元素边不会在渲染树中，之后才做也不会触发重排重绘。另外，"),i("code",null,"visibility: hidden"),s(" 的元素支队重绘有影响，不影响重排。")],-1)),l[37]||(l[37]=i("ul",null,[i("li",null,[s("通过 "),i("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/DocumentFragment",target:"_blank",rel:"noreferrer"},"documentFragment"),s(" 创建 "),i("code",null,"dom"),s(" 碎片，批量修改操作 DOM 后添加文档，也只会触发一次重排。")])],-1)),l[38]||(l[38]=i("h3",{id:"脱离文档流",tabindex:"-1"},[s("脱离文档流 "),i("a",{class:"header-anchor",href:"#脱离文档流","aria-label":'Permalink to "脱离文档流"'},"​")],-1)),l[39]||(l[39]=i("p",null,[s("使用 "),i("code",null,"absolute/fixed"),s(" 脱离文档流，会使该元素单独称为渲染树中 "),i("code",null,"body"),s(" 的一个子元素，重排开销更小，不会对其他节点造成太多影响，当你在这些节点上放置这个元素时，一些其他在这个区域内的节点可能需要重绘，但不需要重排。")],-1)),l[40]||(l[40]=i("h3",{id:"动画优化",tabindex:"-1"},[s("动画优化 "),i("a",{class:"header-anchor",href:"#动画优化","aria-label":'Permalink to "动画优化"'},"​")],-1)),l[41]||(l[41]=i("ul",null,[i("li",null,[s("可以将动画效果应用在 "),i("code",null,"position"),s(" 属性为 "),i("code",null,"absolute"),s(" 或 "),i("code",null,"fixed"),s(" 的元素上，这样对其他元素影响更小。")])],-1)),l[42]||(l[42]=i("p",null,"动画效果还应牺牲一些平滑，来换取速度，比如实现一个动画，以 1 个像素为单位移动这样最平滑，但布局就会过于频繁地，大量消耗 CPU 资源，如果以 3 个像素为单位移动则会减轻负担。",-1)),l[43]||(l[43]=i("ul",null,[i("li",null,[s("启用 GPU 加速，"),i("code",null,"GPU"),s(" 硬件加速是指应用 "),i("code",null,"GPU"),s(" 的图形性能，对浏览器中的一些图形操作交给 "),i("code",null,"GPU"),s(" 来完成，因为 "),i("code",null,"GPU"),s(" 是专门为处理图形而设计，所以在速度和能耗上更有优势。")])],-1)),l[44]||(l[44]=i("p",null,[i("code",null,"GPU"),s(" 加速通常包括以下几个部分：Canvas2D、Layout、CSS Transitions、CSS 3D Transforms、WebGL、Video。")],-1)),l[45]||(l[45]=i("div",{class:"language-css vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"css"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"/*")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}}," * 根据上面的结论")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}}," * 将 2d transform 换成 3d")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}}," * 就可以强制开启 GPU 加速")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}}," * 提高动画性能")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"div"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#B2CCD6","--shiki-light":"#8796B0"}},"  transform"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":"),i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}}," translate3d"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"("),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}},"10px"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},","),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 10px"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},","),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 0"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}")])])]),i("button",{class:"collapse"})],-1)),l[46]||(l[46]=i("h2",{id:"性能调试",tabindex:"-1"},[s("性能调试 "),i("a",{class:"header-anchor",href:"#性能调试","aria-label":'Permalink to "性能调试"'},"​")],-1)),l[47]||(l[47]=i("p",null,"开发者工具中，Performance 左侧录制页面，用于分析性能。",-1)),B(d,{style:{"max-width":"800px"},src:"https://pic.imgdb.cn/item/654f5db2c458853aefd7aa68.jpg"}),l[48]||(l[48]=i("ul",null,[i("li",null,"蓝色: 网络通信和HTML解析"),i("li",null,"黄色: JavaScript执行"),i("li",null,"紫色: 样式计算和布局，即重排"),i("li",null,"绿色: 重绘")],-1))]),"main-header":t(()=>[h(a.$slots,"main-header")]),"main-header-after":t(()=>[h(a.$slots,"main-header-after")]),"main-nav":t(()=>[h(a.$slots,"main-nav")]),"main-content":t(()=>[h(a.$slots,"main-content")]),"main-content-after":t(()=>[h(a.$slots,"main-content-after")]),"main-nav-before":t(()=>[h(a.$slots,"main-nav-before")]),"main-nav-after":t(()=>[h(a.$slots,"main-nav-after")]),comment:t(()=>[h(a.$slots,"comment")]),footer:t(()=>[h(a.$slots,"footer")]),aside:t(()=>[h(a.$slots,"aside")]),"aside-custom":t(()=>[h(a.$slots,"aside-custom")]),default:t(()=>[h(a.$slots,"default")]),_:3},8,["frontmatter"])}}};export{x as default};
