import{H as C,Z as S,a1 as $,k as B,Q as T,a7 as A,B as U,p as V,d as N,a8 as D,a9 as W,aa as k,b as j,c as G,f as b,e as M,$ as F,i as H}from"./app-C5E7XBok.js";import{i as J,E as z}from"./index-B8DctFvE.js";function I(e){return typeof e=="string"}function K(e){return typeof e=="number"}function we(e,n="px"){return I(e)||K(e)?I(e)&&/\D/g.test(e)?e:e+n:""}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Q=e=>typeof e<"u";function X(e){return JSON.parse(JSON.stringify(e))}function Z(e,n,t,r={}){var o,i,s;const{clone:a=!1,passive:u=!1,eventName:l,deep:c=!1,defaultValue:m,shouldEmit:v}=r,f=T(),g=t||(f==null?void 0:f.emit)||((o=f==null?void 0:f.$emit)==null?void 0:o.bind(f))||((s=(i=f==null?void 0:f.proxy)==null?void 0:i.$emit)==null?void 0:s.bind(f==null?void 0:f.proxy));let _=l;n||(n="modelValue"),_=_||`update:${n.toString()}`;const w=d=>a?typeof a=="function"?a(d):X(d):d,x=()=>Q(e[n])?w(e[n]):m,R=d=>{v?v(d)&&g(_,d):g(_,d)};if(u){const d=x(),y=C(d);let E=!1;return S(()=>e[n],P=>{E||(E=!0,y.value=w(P),$(()=>E=!1))}),S(y,P=>{!E&&(P!==e[n]||c)&&R(P)},{deep:c}),y}else return B({get(){return x()},set(d){R(d)}})}var O="unified-overlay";function q(e="",n=document.body){const t=document.createElement("div");return e&&(t.id=e),n!==!1&&n.appendChild(t),t}var p={position:null,spaces:{}};function Y(e=O,n=!0){return p.spaces[e]||(p.spaces[e]=0),n?`${e}--${++p.spaces[e]}`:e}function ee(e=O){return p.spaces[e]||0}function ne(){let e,n;const t=new Promise((r,o)=>{e=r,n=o});return t.resolve=r=>(e(r),t),t.reject=n,t}function te(){typeof window>"u"&&typeof document>"u"||document.addEventListener("click",e=>{if(e.target instanceof Element){const{left:n,top:t,width:r,height:o}=e.target.getBoundingClientRect();n>0||t>0?p.position={x:n+r/2,y:t+o/2}:p.position=null}else p.position=null;setTimeout(()=>p.position=null,64)})}function re(e){function n(r,o){function i(l,c){const m=ne(),v=Y(c.id,c.autoIncrement),f=ee(c.id),g=q(v,c.root);return e(r,l,Object.assign(c,{position:p.position,id:v,deferred:m,index:f,container:g})),m}let s;function a(l,c){return s||(s=i(l,c),s.finally(()=>s=void 0)),s}function u(l,c){const m={...o,...c};return m.only?a(l,m):i(l,m)}return u}function t(r,o,i){return n(r,i)(o)}return{define:n,render:t}}te();function oe(){}function ie(e){return new Promise(n=>setTimeout(n,e))}const se=new RegExp("([\\p{Ll}\\d])(\\p{Lu})","gu"),ce=new RegExp("(\\p{Lu})([\\p{Lu}][\\p{Ll}])","gu"),le=new RegExp("(\\d)(\\p{Ll})","gu"),ae=new RegExp("(\\p{L})(\\d)","gu"),ue=/[^\p{L}\d]+/giu,h="$1\0$2";function fe(e,n={}){let t=e.replace(se,h).replace(ce,h);n.separateNumbers&&(t=t.replace(le,h).replace(ae,h)),t=t.replace(ue,"\0");let r=0,o=t.length;for(;t.charAt(r)==="\0";)r++;if(r===o)return[];for(;t.charAt(o-1)==="\0";)o--;return t.slice(r,o).split(/\0/g)}function de(e){return n=>n.toLocaleLowerCase(e)}function pe(e){return n=>n.toLocaleUpperCase(e)}function me(e,n){const t=de(n==null?void 0:n.locale),r=pe(n==null?void 0:n.locale);return fe(e,n).map((o,i)=>{const s=o[0];return(i>0&&s>="0"&&s<="9"?"_"+s:r(s))+t(o.slice(1))}).join("")}var ve={appContext:null},L=Symbol("OverlayScripts");function ge(e={}){const{duration:n=0,immediate:t=!0,model:r="visible",automatic:o=!0}=e,i=A(L,_e(r,e)),s=Reflect.get(i,"in_dec"),{visible:a,deferred:u,vanish:l}=i;async function c(){return a.value=!1,await ie(n),l==null||l(),Promise.resolve()}return!s&&o&&(u==null||u.then(c).catch(c)),!s&&t&&U(()=>a.value=!0),V(L,null),i}function _e(e,n={}){const{reject:t="reject",resolve:r="resolve"}=n.events||{},o=T();if(!o)throw new Error("Please use usePrograms in component setup");const i=Z(o.props,e,o.emit,{passive:!0});return{reject:u=>{o==null||o.emit(t,u),i.value=!1},resolve:u=>{o==null||o.emit(r,u),i.value=!1},vanish:oe,visible:i,in_dec:!0}}function Ee(e){const{reject:n}=e.deferred||{},{vanish:t}=e,r=C(!1);function o(){t==null||t(),n==null||n()}return{resolve:e.deferred.resolve,reject:e.deferred.reject,deferred:e.deferred,visible:r,vanish:o}}function Pe(e,n){var t;const r=(n==null?void 0:n.app)||((t=ve.appContext)==null?void 0:t.app);r&&(e.config.globalProperties=r.config.globalProperties,Object.assign(e._context,r._context))}var he=re((e,n,t)=>{const{container:r,id:o,deferred:i,appContext:s}=t;function a(){l.unmount(),r.remove()}const u=N({name:me(o),setup:()=>{const c=Ee({vanish:a,deferred:i});V(L,c)},render:()=>D(e,n)}),l=W(u);return Pe(l,s),l.mount(r),a}),xe=he.render;const ye={class:"HairyImageViewer fixed inset-0 z-2000"},Re=N({__name:"HairyImageViewer",props:J,setup(e){const n=e,{visible:t,resolve:r}=ge({duration:1e3});return U(()=>{document.body.style.overflow="hidden"}),k(()=>{document.body.style.overflow=""}),(o,i)=>(j(),G("div",ye,[b(t)?(j(),M(b(z),F({key:0},n,{onClose:i[0]||(i[0]=s=>b(r)())}),null,16)):H("v-if",!0)]))}});export{Re as _,we as a,xe as r};
